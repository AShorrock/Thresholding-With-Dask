# Thresholding-With-Dask
An Algorithm to do image thresholding on a cluster using Dask

The Algorithm is used to threshold an image and reduce bakground noise while making defraction limited spots become much clearer. It is setup to work on a 3D image or just a set of 2D images in order. It will intake the images and split it into chunk sizes that make computation easier on less powerfull machines before recombining them at the end to get a final threshold image. 
Image thresholding on large terabyte sized data sets is very computationaly intesive, to offset the compution to multiple clusters is ideal. Using Dask (https://dask.org) this was able to done with very few modifications to the original algorithm. The algorithm works with a few different functions including, gaussian subtraction, otsu thresholding and find connected objects. The algorithm is written in python and has a number of differnt depdencies. The most important is Dask, if you are unfamiliar head over to the website to learn what it does and how it works. Dask can be set up to run on a single machine or a cluster. The other depdencies are skimage, math and numpy. To run the code one needs an installation of python equiped with both dask and the other modules. 
There is a gui that is included and can be used to interface with the algorithm, it will ask for a number of differnt things in order to run the program. It was built using Page (http://page.sourceforge.net/). The entire gui and algorithm are all together in one file and from here can be run by using the command line or your favorite editor. 
The algorithm needs a number of different things in order to run, the first is the path to the files, the min and max sizes of the objects that should stay when thresholding the image, the increment meaning the amount the algorithm will increase the pixel threshld value for each run, the threshold factor is the amount the ostu threshold value will be multiplyed before the thresholding is done. The next is the address of the scheduler that interfaces with the algorithm with dask. The last is the location of the out folder.  
